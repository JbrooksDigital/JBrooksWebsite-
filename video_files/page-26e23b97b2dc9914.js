(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5421],{78437:function(e,n,t){Promise.resolve().then(t.bind(t,78306))},3614:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(5452),s=t(46330),a=t(7323),l=t(87656),i=t(95695),c=t(1654),o=t(53705),u=t(91506),d=t(49660),h=t(62938),f=t(89259),m=t(15767),v=t(47993),x=t(34118),g=t(87357);function p(){let{searchQuery:e,searchType:n}=(0,x.v)(),t=(0,s.useSearchParams)(),c=(0,l.Z)();(0,v.f)("feed_search",{query:e,type:(0,m.KG)(e,"public")});let{data:p,error:y,status:w,fetchNextPage:N,hasNextPage:b,isFetchingNextPage:k}=(0,m.nC)(e,"public",null!=e&&0!=e.trim().length,n),Z=(0,a.useMemo)(()=>null==p?void 0:p.pages.flatMap(e=>e.data),[p]),P=(0,a.useMemo)(()=>{var e;return null!==(e=null==Z?void 0:Z.map(e=>e.generation))&&void 0!==e?e:[]},[Z]),M=d.Z.useActions();return(0,a.useEffect)(()=>{let e="".concat(window.location.pathname).concat(window.location.search);return e.startsWith("/explore")&&M.setRootPage({title:c.formatMessage(j.title),href:e}),()=>{}},[M,c,e,t]),(0,o.X)({allGenerations:P,hasNextPage:b,isFetchingNextPage:k,fetchNextPage:N}),(0,r.jsx)(g.Z,{title:(0,r.jsx)(f.Z,{}),includePageSwitcher:!1,stickyHeader:!0,children:(0,r.jsx)(u.Z,{generations:P,fetchNextPage:N,hasNextPage:b,isFetchingNextPage:k,status:w,error:y,emptyPlaceholder:(0,r.jsx)(h.uk,{imgSrc:"/empty-search.png",children:(0,r.jsx)(i.Z,{...j.noMatches})})})})}let j=(0,c.vU)({title:{id:"feedSearch.title",description:"Page header for the feed page with a search query",defaultMessage:"Search"},noMatches:{id:"feedSearch.noMatches",description:"Message when there are no matches for the search query",defaultMessage:"No search results"}})},78306:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(5452),s=t(64312),a=t(34118),l=t(22573),i=t(3614);function c(){let{isValidQuery:e,searchQuery:n}=(0,a.v)(!0);return e?(0,r.jsx)(i.Z,{},n):(0,r.jsx)(l.Z,{variant:s.X.home})}},89259:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(5452),s=t(46330),a=t(88894),l=t(96826),i=t(38853),c=t(53048),o=t(38661),u=t(59325),d=t(15767),h=t(30697),f=t(34118),m=t(66980),v=t(57307),x=t(23544);function g(){var e,n,t;let g,p,j;let{searchQuery:y,searchType:w}=(0,f.v)(),N=x.Z.useActions(),b=(0,s.useSearchParams)(),k=(0,s.usePathname)(),Z=(0,m.Z)(),P=(0,v.D)(),{data:M,isLoading:S}=(t=w===d.n8.User?y:null,(0,o.useQuery)({queryKey:["users",t],queryFn:async()=>u.Z.getUsername(null!=t?t:""),enabled:null!=t,meta:{normalize:!1}})),{data:q,isLoading:_}=(0,c.ox)(w===d.n8.Generation?y:null);if(null===w)return(0,r.jsx)("div",{children:y});switch(w){case d.n8.Text:g=(0,r.jsx)(l.gn,{}),p=y,j=()=>N.open(y);break;case d.n8.User:g=(0,r.jsx)(l.qE,{}),p=S?"":null!==(e=null==M?void 0:M.username)&&void 0!==e?e:y;break;case d.n8.Generation:g=(0,r.jsx)(l.tL,{}),p=_?"":null!==(n=null==q?void 0:q.title)&&void 0!==n?n:y;break;default:(0,h.R)(w)}return(0,r.jsxs)("div",{className:(0,i.cn)("surface-nav-element flex max-w-[calc(100vw-2rem)] items-center justify-center gap-3 overflow-hidden rounded-bl-none rounded-br-full rounded-tl-none rounded-tr-full py-1.5 pr-2",!P&&"pointer-events-auto"),children:[(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",null!=j&&"hover:opacity-70"),role:null!=j?"button":void 0,onClick:j,children:[(0,r.jsx)("div",{className:"flex shrink-0 items-center justify-center",children:g}),(0,r.jsx)("div",{className:"overflow-hidden text-lg font-semibold",children:(0,r.jsx)("div",{className:"truncate",children:p})})]}),(0,r.jsx)(a.z,{className:"shrink-0",variant:"secondary",size:"icon-sm",onClick:()=>{let e=new URLSearchParams(b);e.delete("query"),e.delete("user");let n=e.toString();Z.push("".concat(k).concat(n?"?".concat(n):""),void 0,{scroll:!0})},children:(0,r.jsx)(l.x8,{className:"h-5 w-5"})})]})}}},function(e){e.O(0,[3346,434,4526,1210,7023,7652,2573,5445,8825,1744],function(){return e(e.s=78437)}),_N_E=e.O()}]);
//# sourceMappingURL=page-26e23b97b2dc9914.js.map